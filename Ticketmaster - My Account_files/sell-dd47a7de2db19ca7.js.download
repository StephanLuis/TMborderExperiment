(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7051],{61404:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var r=n(59499),i=n(27812),c=(n(67294),n(65178)),o=n(89763),s=n(97763),l=n(32931),a=n(50320),d=n(11961),u=n(63417),f=n(466),p=n(68777),g=n(54825),m=n(85090),h=n(85893);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(e){var t=e.type,n=e.levelName,r=void 0===n?"":n,i=e.sectionName,c=void 0===i?"":i,o=e.row,s=void 0===o?"":o,l=e.seat,a=void 0===l?"":l,y=e.reference,x=e.description,v=e.formattedPrice,b=e.isLoading,w=void 0!==b&&b,I=(0,p.I4)(),C=t===g.lL.GA?{customSeatInfo:(0,h.jsx)(m.Z,{reference:(0,h.jsx)("strong",{children:y})})}:{level:{title:I("edp.reserve.seatInfoLevel"),details:r},section:{title:I("edp.reserve.seatInfoSec"),details:c},row:{title:I("edp.reserve.seatInfoRow"),details:s||"-"},seat:{title:I("edp.reserve.seatInfoSeats"),details:a||"-"}};return(0,h.jsx)(d.Z,{topSection:(0,h.jsx)(u.Z,j({title:x,price:w?(0,h.jsx)(f.Z,{}):v},C))})},v=n(64766);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(e){var t=e.title,n=e.ticketList,r=e.name,c=e.selectedTickets,s=void 0===c?[]:c,l=e.selectedTicketsError,a=e.onTicketSelection,d=e.formatDisplayPrice,u=e.isAdjacentSeatOnly,f=void 0===u||u,p=e.isLoading,g=void 0!==p&&p,m=e.children,y=function(e){return!!s.find((function(t){return t.sectionName===e.sectionName&&t.row===e.row&&t.faceValue===e.faceValue&&t.description===e.description&&(!d||t.displayPrice===e.displayPrice)}))},j=s.sort((function(e,t){return e.seat>t.seat?1:-1})),b=function(e){if(!f)return!1;if(j.length<1)return!1;if(!y(e))return!0;var t=parseInt(e.seat,10),n=parseInt(j[0].seat,10),r=parseInt(j[j.length-1].seat,10);return!([0,1].includes(n-t)||[0,1].includes(t-r))},I=(0,v.A)(),L=(0,v.A)();return(0,h.jsx)(o.Z,{children:(0,h.jsxs)(Z,{"aria-describedby":L,children:[(0,h.jsx)(o.Z.Title,{as:"legend",children:t}),(0,h.jsxs)(o.Z.Body,{children:[l&&(0,h.jsx)(k,{id:L,children:l}),(0,h.jsx)(C,{children:n.map((function(e){var t=s.some((function(t){return y(e)&&t.seat===e.seat})),n=s.length<1,c=d?d(e):"";return(0,h.jsx)(O,{children:(0,h.jsx)(P,{id:"".concat(I,"-").concat(e.reference),label:(0,h.jsx)(x,w(w({},e),{},{formattedPrice:c,isLoading:g})),name:r,checked:t,onChange:function(){return a(function(e){var t;return t=e,s.find((function(e){return e.seat===t.seat}))?function(e,t){return e.filter((function(e){return e.seat!==t.seat}))}(s,e):[].concat((0,i.Z)(s),[e])}(e))},disabled:b(e)||g,required:n})},"ticketSelection-wrapper-".concat(e.reference))}))}),m]})]})})},C=c.default.ul.withConfig({componentId:"sc-13nq4pk-0"})(["margin:0;padding:0;list-style:none;"]),O=c.default.li.withConfig({componentId:"sc-13nq4pk-1"})(["&:not(:first-child){margin-top:",";}label{cursor:pointer;}"],s.W0.normal),P=(0,c.default)(l.Z).withConfig({componentId:"sc-13nq4pk-2"})(["> label{align-items:center;}"]),k=(0,c.default)(a.Z).withConfig({componentId:"sc-13nq4pk-3"})(["margin:0 0 "," 0;"],s.W0.moderate),Z=c.default.fieldset.withConfig({componentId:"sc-13nq4pk-4"})(["padding:0;border:none;"])},49095:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return le}});var r=n(67294),i=n(11163),c=n(12),o=n(59499),s=n(39256),l=n(97763),a=n(46675),d=n(38858),u=n(68777),f=n(23681),p=n(89380),g=n(63169),m=n(74382),h=n(53625),y=n(3946),j=n(91254),x=n(65178),v=n(61404),b=n(17040),w=n(35756),I=n(6100),C=n(2668),O=n(85893),P=function(e){var t=e.orderId,n=e.eventId,i=e.ticketList,c=e.currency,o=e.isLoading,s=void 0!==o&&o,l=(0,u.I4)(),a=(0,C.TL)(),d=(0,C.CG)(p.Vm),f=(0,C.CG)(p.sP),m=(0,C.CG)(w.vC).currencyLocale,h=(0,C.CG)(p.m1),y=(0,C.CG)(I.I2);return(0,r.useEffect)((function(){0===d.length&&a((0,g._q)("sellPrice","0.00"))}),[d,a]),(0,O.jsx)(v.Z,{name:"resaleTicketSelection",title:l("myAccount.listingFlow.ticketSelection.title"),ticketList:i,selectedTickets:d,selectedTicketsError:f,onTicketSelection:function(e){a((0,g.So)({selectedTickets:e})),a((0,g._q)("sellPrice",h))},formatDisplayPrice:function(e){var r=(y({orderId:t,eventId:n,ticketId:e.id})/100).toFixed(2);return(0,b.Z)({language:m,currencyCode:c})(r)},isAdjacentSeatOnly:!0,isLoading:s,children:(0,O.jsxs)(k,{children:[(0,O.jsx)("p",{children:l("myAccount.listingFlow.ticketSelection.description")}),(0,O.jsx)("p",{children:l("myAccount.listingFlow.ticketSelection.fees")})]})})},k=x.default.section.withConfig({componentId:"sc-1jfzdsp-0"})(["margin-top:",";color:",";"],l.W0.normal,(function(e){return e.theme.text.secondary})),Z=n(49193),L=n(89763),S=n(466),T=n(15349),G=n(49171),D=n(3495),E=function(e){var t=e.currency,n=e.minPrice,i=e.maxPrice,c=e.displayPrice,o=e.minMixPricesLoading,s=(0,u.I4)(),l=(0,C.TL)(),a=(0,C.CG)(w.vC).currencyLocale,d=(0,C.CG)(p._g),f=d.sellPrice,h=d.selectedTickets,y=(0,C.CG)(p.VI).sellPrice,j=(0,D.y)("f_showSellPriceDisclaimer"),x=h.length;r.useEffect((function(){var e=0===x?0:c;l((0,m.pL)()),l((0,g.M3)(e))}),[l,c,x]);var v=f?(0,b.Z)({language:a,currencyCode:t})(f*x):"-",I=function(e,t){return l((0,g._q)(e,t))};return(0,O.jsxs)(L.Z,{children:[(0,O.jsx)(L.Z.Title,{children:s("myAccount.listingFlow.saleDetails.title")}),(0,O.jsxs)(L.Z.Body,{children:[(0,O.jsx)(G.Z,{label:s("myAccount.listingFlow.saleDetails.subtitle"),icon:o&&(0,O.jsx)(S.Z,{size:"small"}),name:"sellPrice",id:"sellPrice",placeholder:c,onBlur:function(e){var t=e.target,n=t.name,r=t.value,i=parseFloat(r)?parseFloat(r).toFixed(2):r;I(n,i)},onChange:function(e){var t=e.target;return I(t.name,t.value)},value:f.toString(),required:!0,autoComplete:"sellpriceabc",disabled:!x||o,type:"number",errorMessage:y,min:n,max:i,step:"0.01"}),j&&(0,O.jsx)(F,{children:s("myAccount.listingFlow.saleDetails.highestPriceInfo")}),(0,O.jsxs)(A,{children:[(0,O.jsxs)("span",{children:[s("myAccount.listingFlow.saleDetails.willGetPaid")," "]}),(0,O.jsx)("span",{children:v})]})]})]})},A=x.default.p.withConfig({componentId:"sc-16f8dt3-0"})(["display:flex;justify-content:space-between;margin-top:",";margin-bottom:0;padding:"," 0 0;border-top:1px solid ",";color:",";font-weight:700;@media (","){display:none;}"],l.W0.normal,l.W0.normal,(function(e){return e.theme.base.border}),(function(e){return e.theme.status.success}),T.BC.xxLarge),F=x.default.p.withConfig({componentId:"sc-16f8dt3-1"})(["margin:"," 0 0;color:",";"],l.W0.normal,(function(e){return e.theme.text.secondary})),_=n(51061),W=n(34669),q=n(40971),M=n(71536),B=n(78305),N=n(86352),V=n(8022),R=n(56778),K=n(12221),Y=n(19692),z=n(67688),H=n(99940);function U(){var e=(0,C.CG)(Y.T6);if(!e)return null;var t=e.adyenTermsLink,n=e.adyenTermsLinkText,r=e.productDisclosureLink,i=e.productDisclosureLinkText,c=e.paragraph1,o=e.paragraph2,s=e.paragraph3,l=(0,O.jsx)(z.Z,{href:t,target:"_blank",children:n}),a=(0,O.jsx)(z.Z,{href:r,target:"_blank",children:i});return(0,O.jsxs)(L.Z,{children:[(0,O.jsx)(X,{children:(0,H.h)(c,{adyenLink:l,productLink:a})}),(0,O.jsx)(X,{children:o}),(0,O.jsx)(X,{children:s})]})}var X=x.default.p.withConfig({componentId:"sc-1suchg-0"})(["color:",";&:last-child{margin:0;}"],(function(e){return e.theme.text.secondary})),J=n(15213),Q=n(73315);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e){var t,n=e.eventId,i=e.orderId,c=(0,C.TL)(),o=(0,C.CG)(f.WA)({orderId:i,eventId:n}),l=(0,C.CG)(p.GR),a=(0,D.y)("f_immediateKycMessaging"),x=(0,N.x)(),v=(0,R.Z)({isPageOne:!0}),b=v.isLightweightListingFlow,k=v.onSubmit,L=v.buttonType,S=v.isExternal,T=v.isSpinning,G=(0,C.CG)(p.wM),A=(0,C.CG)(p.df),F=(0,C.CG)(p.BO),M=null===F||void 0===F?void 0:F.payoutBlocked,Y=(0,J.Z)();r.useEffect((function(){x&&"loading"!==A&&(c((0,g.Yu)({countryList:x,currencyCode:o.currency})),c((0,g.Zv)()),!l&&a&&c((0,g.pl)()))}),[c,l,a,x,A,o.currency]);var z=(0,C.CG)(f.Zc)({orderId:i,eventId:n}),H=(0,C.CG)(I.HU),X=(0,C.CG)(I.E7)(i,n),$=o.orderToken;r.useEffect((function(){z&&c((0,I.EV)({orderId:i,orderToken:$}))}),[]);var te=null===(t=(0,C.CG)(p._g).selectedTickets[0])||void 0===t?void 0:t.id,oe=(0,C.CG)(w.vC).currencyLocale,se=(0,C.CG)(I.GY)({orderId:i,eventId:n,ticketId:te}),le=(0,C.CG)(I.QI)({orderId:i,eventId:n,ticketId:te}),ae=(0,C.CG)(I.I2)({orderId:i,eventId:n,ticketId:te}),de=(se/100).toFixed(2),ue=(le/100).toFixed(2),fe=(ae/100).toFixed(2),pe=(0,u.I4)(),ge=(0,C.CG)(q.AP)(i,n),me=(0,C.CG)(p.BH);if("success"!==G&&(!z||!z.length||X))return(0,O.jsx)(B.Z,{noThrow:!0,to:Y.user.orders()});var he="loading"===H||"initial"===H;return he?(0,O.jsx)("div",{children:(0,O.jsx)(d.Z,{title:pe("myAccount.notReadyMessage.title"),desc:pe("myAccount.notReadyMessage.description"),isSpinning:!0})}):(0,O.jsx)(W.Z,{fullBleedHeaderContent:(0,O.jsx)(ne,{imageUrl:ge.imageUrl}),headerContent:(0,O.jsx)(W.Z.GridMainCellWrapper,{children:(0,O.jsx)(_.Z,{eventId:n,orderId:i})}),children:(0,O.jsx)(W.Z.GridMainCellWrapper,{children:(0,O.jsx)(h.Z,{handleError:function(e){return c((0,m.S3)(e))},onSubmit:k,currencyLanguage:oe,currencyCode:o.currency,children:function(e){var t=e.getFormProps;return(0,O.jsxs)(re,ee(ee({},t()),{},{noValidate:!0,children:[(0,O.jsx)(y.Z,{title:pe("myAccount.listingFlow.title"),currentStep:b?"":pe("myAccount.listingFlow.step1"),backToLink:Y.user.order.view({eventId:n,orderId:i}),backToPage:pe("myAccount.orderDetails.myTicketsTitle")}),(0,O.jsxs)(j.VY,{children:[(0,O.jsx)(P,{orderId:i,eventId:n,ticketList:z,currency:o.currency,isLoading:he}),(0,O.jsx)(E,{minMixPricesLoading:he,currency:o.currency,minPrice:de,maxPrice:ue,displayPrice:fe}),b&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(Q.Z,{}),(0,O.jsx)(U,{}),(0,O.jsx)(K.Z,{})]})]}),(0,O.jsx)(j.YE,{children:(0,O.jsx)(Z.Z,{currency:o.currency})}),(0,O.jsxs)(ie,{children:[!me&&a&&(0,O.jsx)(s.Z,{title:pe("myAccount.listingFlow.immediateKycMessaging.ticketSelection.title"),children:(0,O.jsx)("p",{children:pe("myAccount.listingFlow.immediateKycMessaging.ticketSelection.body")})}),(0,O.jsx)(V.Z,{buttonType:L,isExternal:S,isSpinning:T}),b&&M&&(0,O.jsx)(ce,{children:pe("myAccount.adyenDisclaimer")})]})]}))}})})})}var ne=(0,x.default)(M.Z).withConfig({componentId:"sc-neton8-0"})(["width:100%;height:100%;"]),re=(0,x.default)(j.l0).withConfig({componentId:"sc-neton8-1"})(["margin-right:-",";margin-left:-",";@media (","){margin-right:0;margin-left:0;}"],l.eC.margin.small,l.eC.margin.small,T.BC.large),ie=(0,x.default)(j.W4).withConfig({componentId:"sc-neton8-2"})(["margin-right:",";margin-left:",";"],l.W0.expanded,l.W0.expanded),ce=x.default.p.withConfig({componentId:"sc-neton8-3"})(["margin-top:",";font-size:",";text-align:center;"],l.W0.expanded,a.JB.uno),oe=n(29662),se=function(){var e=(0,i.useRouter)().query,t=e.eventId,n=e.orderId;return(0,O.jsx)(te,{eventId:t,orderId:n})};se.getLayout=function(e){return(0,O.jsx)(c.ZP,{children:(0,O.jsx)(oe.Z,{children:e})})},se.reducers=c.ll,se.middleware=c.qR,se.getInitialProps=c.kK;var le=se},91799:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/order/[orderId]/[eventId]/sell",function(){return n(49095)}])}},function(e){e.O(0,[4885,4384,9195,7412,9588,9315,7744,747,9846,2946,3706,4721,2983,5886,8998,9926,1983,2145,9482,7963,1666,9677,5778,12,3404,9774,2888,179],(function(){return t=91799,e(e.s=t);var t}));var t=e.O();_N_E=t}]);